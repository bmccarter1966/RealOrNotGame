<script>
// Set release date in EST (UTC-5)
const RELEASE_DATE = new Date("2026-01-13T00:00:00-05:00"); 
const GAME_URL = "https://bmccarter1966.github.io/RealOrNotGame/";

const container = document.getElementById("container");
let hasLaunched = false;
let countdownInterval = null;

function updateCountdown() {
  if (hasLaunched) return;

  const now = new Date();
  const diff = RELEASE_DATE - now;

  if (diff <= 0) {
    hasLaunched = true;
    clearInterval(countdownInterval);

    container.innerHTML = `
      <iframe 
        src="${GAME_URL}" 
        style="width:100%; height:100%; border:none;" 
        allowfullscreen 
        loading="lazy">
      </iframe>
      <div class="countdown fade-out" id="liveMessage">Now Live!</div>
    `;

    // Fade out and remove "Now Live!" message
    setTimeout(() => {
      const liveMsg = document.getElementById("liveMessage");
      if (liveMsg) liveMsg.classList.add("fade-out");
    }, 3000);

    setTimeout(() => {
      const liveMsg = document.getElementById("liveMessage");
      if (liveMsg) liveMsg.remove();
    }, 5500);

    return;
  }

  const countdownEl = document.getElementById("countdown");
  const days = Math.floor(diff / (1000*60*60*24));
  const hours = Math.floor((diff / (1000*60*60)) % 24);
  const minutes = Math.floor((diff / (1000*60)) % 60);
  const seconds = Math.floor((diff / 1000) % 60);

  countdownEl.innerText = `${days}d ${hours}h ${minutes}m ${seconds}s`;
}

// Start countdown
updateCountdown();
countdownInterval = setInterval(updateCountdown, 1000);
</script>

